when:
  - event: ["push"]
    branch: ["*"]
  - event: ["pull_request"]
    branch: ["main"]
engine: "nixery"
dependencies:
  nixpkgs:
    - go
    - golangci-lint
environment:
  GOEXPERIMENT: jsonv2
steps:
  - name: "Check Go version"
    command: "go version"
  - name: "Check Go CI Lint version"
    command: "golangci-lint version"
  - name: "Linter"
    command: "golangci-lint run ./..."
